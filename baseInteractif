#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <termios.h> //bibli pour getch()
#include <unistd.h>  // ""


char point='X';
char tab[23][80];
int i,j;
int x=40;
int y=11;

//FONCTION OPTIONNELLE

char getch()                                                                                   
{
    char ch;
    struct termios old, new;

    tcgetattr(0, &old); // grab old terminal i/o settings

    new = old; // new settings = old settings

    new.c_lflag &= ~ICANON; // disable buffered i/o
    //new.c_lflag &= ~ECHO; //set echo mode

    tcsetattr(0, TCSANOW, &new); // use these new terminal i/o settings now

    ch = getchar();

    tcsetattr(0, TCSANOW, &old); //restore old settings

    return ch;
}
 
 
void bord()
{  
 for (j=0;j<80;j++)
    {
    tab[0][j]='#';
    } 
 for (j=0;j<80;j++)
    {
    tab[22][j]='#';
    }
 for (i=1;i<22;i++)
    {
    tab[i][0]='#';
    }
 for (i=1;i<22;i++)  
    {
    tab[i][79]='#';
    }
 for (i=1;i<22;i++)
    {
    for (j=1;j<79;j++)
       {
       tab[i][j]=' ';
       }
}
  tab[y][x]=point;
}



void disp()
{
for(i=0;i<23;i++)
{
for(j=0;j<80;j++)
{
printf("%c",tab[i][j]);
}
printf("\n" );
}
}

 
int main()
{
system("clear");

char move;
 
bord();
disp();

while (1)
{
    printf("\n\nles commandes sont : [z:Haut, s:Bas, d:Droite, q:Gauche]\n" );
    move=getch();
    system("clear");

   
    switch (move){
         

    case 's' : tab[y][x]=' ';
         y++;  
   
    break;
 
    

    case 'z' : tab[y][x]=' ';
         y--;

    
    break;
     

    case 'q' :tab[y][x]=' ';
         x--;

    
    break;
     

    case 'd' :tab[y][x]=' ';
         x++;

    
    break;
     
   
     
    }
bord();
disp();
   
  }
return 0;
}
